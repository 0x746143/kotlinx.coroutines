<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>CoroutineDispatcher - kotlinx-coroutines-core</title>
  <meta name="description" content="Library support for kotlin coroutines">
  <link rel="stylesheet" href="/kotlinx.coroutines/assets/main.css">
  <link rel="canonical" href="https://kotlin.github.io/kotlinx.coroutines/kotlinx-coroutines-core/kotlinx.coroutines/-coroutine-dispatcher/">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
  <script src="/kotlinx.coroutines/assets/js/api.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-47631155-3', 'auto');
    ga('send', 'pageview');
  </script>
</head>

  <body>
    <header class="site-header" role="banner">
  <div class="wrapper">
    <a class="site-title" href="/kotlinx.coroutines/">kotlinx.coroutines</a>
  </div>
</header>

    <main class="page-content" aria-label="Content">
      <div class="wrapper">
        <div class="api-docs-breadcrumbs"><a href="../../index.html">kotlinx-coroutines-core</a> / <a href="../index.html">kotlinx.coroutines</a> / <a href="./index.html">CoroutineDispatcher</a></div>

<h1 id="coroutinedispatcher">CoroutineDispatcher</h1>

<div class="signature"><code><span class="keyword">abstract</span> <span class="keyword">class </span><span class="identifier">CoroutineDispatcher</span>&nbsp;<span class="symbol">:</span>&nbsp;<a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.coroutines/-continuation-interceptor/index.html"><span class="identifier">ContinuationInterceptor</span></a></code> <a href="https://github.com/kotlin/kotlinx.coroutines/tree/master/kotlinx-coroutines-core/common/src/CoroutineDispatcher.kt#L30">(source)</a></div>

<p>Base class to be extended by all coroutine dispatcher implementations.</p>

<p>The following standard implementations are provided by <code>kotlinx.coroutines</code> as properties on
the <a href="../-dispatchers/index.html">Dispatchers</a> object:</p>

<ul>
  <li><a href="../-dispatchers/-default.html">Dispatchers.Default</a> — is used by all standard builders if no dispatcher or any other <a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.coroutines/-continuation-interceptor/index.html">ContinuationInterceptor</a>
is specified in their context. It uses a common pool of shared background threads.
This is an appropriate choice for compute-intensive coroutines that consume CPU resources.</li>
  <li><a href="../-dispatchers/-i-o.html">Dispatchers.IO</a> — uses a shared pool of on-demand created threads and is designed for offloading of IO-intensive <em>blocking</em>
operations (like file I/O and blocking socket I/O).</li>
  <li><a href="../-dispatchers/-unconfined.html">Dispatchers.Unconfined</a> — starts coroutine execution in the current call-frame until the first suspension,
whereupon the coroutine builder function returns.
The coroutine will later resume in whatever thread used by the
corresponding suspending function, without confining it to any specific thread or pool.
<strong>The <code>Unconfined</code> dispatcher should not normally be used in code</strong>.</li>
  <li>Private thread pools can be created with <a href="../new-single-thread-context.html">newSingleThreadContext</a> and <a href="../new-fixed-thread-pool-context.html">newFixedThreadPoolContext</a>.</li>
  <li>An arbitrary <a href="http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/Executor.html">Executor</a> can be converted to a dispatcher with the <a href="../java.util.concurrent.-executor/as-coroutine-dispatcher.html">asCoroutineDispatcher</a> extension function.</li>
</ul>

<p>This class ensures that debugging facilities in <a href="../new-coroutine-context.html">newCoroutineContext</a> function work properly.</p>

<h3 id="constructors">Constructors</h3>

<table class="api-docs-table">
<tbody>
<tr>
<td>

        <p><a href="-init-.html">&lt;init&gt;</a></p>

      </td>
<td>
        <div class="signature"><code><span class="identifier">CoroutineDispatcher</span><span class="symbol">(</span><span class="symbol">)</span></code></div>

        <p>Base class to be extended by all coroutine dispatcher implementations.</p>

      </td>
</tr>
</tbody>
</table>

<h3 id="functions">Functions</h3>

<table class="api-docs-table">
<tbody>
<tr>
<td>

        <p><a href="dispatch.html">dispatch</a></p>

      </td>
<td>
        <div class="signature"><code><span class="keyword">abstract</span> <span class="keyword">fun </span><span class="identifier">dispatch</span><span class="symbol">(</span><br />&nbsp;&nbsp;&nbsp;&nbsp;<span class="parameterName" id="kotlinx.coroutines.CoroutineDispatcher$dispatch(kotlin.coroutines.CoroutineContext, java.lang.Runnable)/context">context</span><span class="symbol">:</span>&nbsp;<a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.coroutines/-coroutine-context/index.html"><span class="identifier">CoroutineContext</span></a><span class="symbol">, </span><br />&nbsp;&nbsp;&nbsp;&nbsp;<span class="parameterName" id="kotlinx.coroutines.CoroutineDispatcher$dispatch(kotlin.coroutines.CoroutineContext, java.lang.Runnable)/block">block</span><span class="symbol">:</span>&nbsp;<a href="../-runnable.html"><span class="identifier">Runnable</span></a><br /><span class="symbol">)</span><span class="symbol">: </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-unit/index.html"><span class="identifier">Unit</span></a></code></div>

        <p>Dispatches execution of a runnable <a href="dispatch.html#kotlinx.coroutines.CoroutineDispatcher$dispatch(kotlin.coroutines.CoroutineContext, java.lang.Runnable)/block">block</a> onto another thread in the given <a href="dispatch.html#kotlinx.coroutines.CoroutineDispatcher$dispatch(kotlin.coroutines.CoroutineContext, java.lang.Runnable)/context">context</a>.
This method should guarantee that the given <a href="dispatch.html#kotlinx.coroutines.CoroutineDispatcher$dispatch(kotlin.coroutines.CoroutineContext, java.lang.Runnable)/block">block</a> will be eventually invoked,
otherwise the system may reach a deadlock state and never leave it.
Cancellation mechanism is transparent for <a href="./index.md">CoroutineDispatcher</a> and is managed by <a href="dispatch.html#kotlinx.coroutines.CoroutineDispatcher$dispatch(kotlin.coroutines.CoroutineContext, java.lang.Runnable)/block">block</a> internals.</p>

      </td>
</tr>
<tr>
<td>

        <p><a href="intercept-continuation.html">interceptContinuation</a></p>

      </td>
<td>
        <div class="signature"><code><span class="keyword">fun </span><span class="symbol">&lt;</span><span class="identifier">T</span><span class="symbol">&gt;</span> <span class="identifier">interceptContinuation</span><span class="symbol">(</span><br />&nbsp;&nbsp;&nbsp;&nbsp;<span class="parameterName" id="kotlinx.coroutines.CoroutineDispatcher$interceptContinuation(kotlin.coroutines.Continuation((kotlinx.coroutines.CoroutineDispatcher.interceptContinuation.T)))/continuation">continuation</span><span class="symbol">:</span>&nbsp;<a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.coroutines/-continuation/index.html"><span class="identifier">Continuation</span></a><span class="symbol">&lt;</span><a href="intercept-continuation.html#T"><span class="identifier">T</span></a><span class="symbol">&gt;</span><br /><span class="symbol">)</span><span class="symbol">: </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.coroutines/-continuation/index.html"><span class="identifier">Continuation</span></a><span class="symbol">&lt;</span><a href="intercept-continuation.html#T"><span class="identifier">T</span></a><span class="symbol">&gt;</span></code></div>

        <p>Returns a continuation that wraps the provided <a href="intercept-continuation.html#kotlinx.coroutines.CoroutineDispatcher$interceptContinuation(kotlin.coroutines.Continuation((kotlinx.coroutines.CoroutineDispatcher.interceptContinuation.T)))/continuation">continuation</a>, thus intercepting all resumptions.</p>

      </td>
</tr>
<tr>
<td>

        <p><a href="is-dispatch-needed.html">isDispatchNeeded</a></p>

      </td>
<td>
        <div class="signature"><code><span class="keyword">open</span> <span class="keyword">fun </span><span class="identifier">isDispatchNeeded</span><span class="symbol">(</span><span class="parameterName" id="kotlinx.coroutines.CoroutineDispatcher$isDispatchNeeded(kotlin.coroutines.CoroutineContext)/context">context</span><span class="symbol">:</span>&nbsp;<a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.coroutines/-coroutine-context/index.html"><span class="identifier">CoroutineContext</span></a><span class="symbol">)</span><span class="symbol">: </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-boolean/index.html"><span class="identifier">Boolean</span></a></code></div>

        <p>Returns <code>true</code> if the execution of the coroutine should be performed with <a href="dispatch.html">dispatch</a> method.
The default behavior for most dispatchers is to return <code>true</code>.</p>

      </td>
</tr>
<tr>
<td>

        <p><a href="release-intercepted-continuation.html">releaseInterceptedContinuation</a></p>

      </td>
<td>
        <div class="signature"><code><span class="keyword">open</span> <span class="keyword">fun </span><span class="identifier">releaseInterceptedContinuation</span><span class="symbol">(</span><br />&nbsp;&nbsp;&nbsp;&nbsp;<span class="parameterName" id="kotlinx.coroutines.CoroutineDispatcher$releaseInterceptedContinuation(kotlin.coroutines.Continuation((kotlin.Any)))/continuation">continuation</span><span class="symbol">:</span>&nbsp;<a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.coroutines/-continuation/index.html"><span class="identifier">Continuation</span></a><span class="symbol">&lt;</span><span class="identifier">*</span><span class="symbol">&gt;</span><br /><span class="symbol">)</span><span class="symbol">: </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-unit/index.html"><span class="identifier">Unit</span></a></code></div>

      </td>
</tr>
</tbody>
</table>

<h3 id="extension-properties">Extension Properties</h3>

<table class="api-docs-table">
<tbody>
<tr>
<td>

        <p><a href="../kotlin.coroutines.-coroutine-context/is-active.html">isActive</a></p>

      </td>
<td>
        <div class="signature"><code><span class="keyword">val </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.coroutines/-coroutine-context/index.html"><span class="identifier">CoroutineContext</span></a><span class="symbol">.</span><span class="identifier">isActive</span><span class="symbol">: </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-boolean/index.html"><span class="identifier">Boolean</span></a></code></div>

        <p>Returns <code>true</code> when the <a href="../-job/index.html">Job</a> of the coroutine in this context is still active
(has not completed and was not cancelled yet).</p>

      </td>
</tr>
</tbody>
</table>

<h3 id="extension-functions">Extension Functions</h3>

<table class="api-docs-table">
<tbody>
<tr data-platform="JVM"><td>

        <p><a href="../as-executor.html">asExecutor</a></p>

      </td>
<td>
        <div class="signature"><code><span class="keyword">fun </span><a href="./index.md"><span class="identifier">CoroutineDispatcher</span></a><span class="symbol">.</span><span class="identifier">asExecutor</span><span class="symbol">(</span><span class="symbol">)</span><span class="symbol">: </span><a href="http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/Executor.html"><span class="identifier">Executor</span></a></code></div>

        <p>Converts an instance of <a href="./index.md">CoroutineDispatcher</a> to an implementation of <a href="http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/Executor.html">Executor</a>.</p>

      </td>
</tr><tr>
<td>

        <p><a href="../kotlin.coroutines.-coroutine-context/cancel.html">cancel</a></p>

      </td>
<td>
        <div class="signature"><code><span class="keyword">fun </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.coroutines/-coroutine-context/index.html"><span class="identifier">CoroutineContext</span></a><span class="symbol">.</span><span class="identifier">cancel</span><span class="symbol">(</span><br />&nbsp;&nbsp;&nbsp;&nbsp;<span class="parameterName" id="kotlinx.coroutines$cancel(kotlin.coroutines.CoroutineContext, java.util.concurrent.CancellationException)/cause">cause</span><span class="symbol">:</span>&nbsp;<a href="../-cancellation-exception/index.html"><span class="identifier">CancellationException</span></a><span class="symbol">?</span>&nbsp;<span class="symbol">=</span>&nbsp;null<br /><span class="symbol">)</span><span class="symbol">: </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-unit/index.html"><span class="identifier">Unit</span></a></code></div>

        <p>Cancels <a href="../-job/index.html">Job</a> of this context with an optional cancellation cause.
See <a href="../-job/cancel.html">Job.cancel</a> for details.</p>

      </td>
</tr>
<tr>
<td>

        <p><a href="../kotlin.coroutines.-coroutine-context/cancel-children.html">cancelChildren</a></p>

      </td>
<td>
        <div class="signature"><code><span class="keyword">fun </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.coroutines/-coroutine-context/index.html"><span class="identifier">CoroutineContext</span></a><span class="symbol">.</span><span class="identifier">cancelChildren</span><span class="symbol">(</span><br />&nbsp;&nbsp;&nbsp;&nbsp;<span class="parameterName" id="kotlinx.coroutines$cancelChildren(kotlin.coroutines.CoroutineContext, java.util.concurrent.CancellationException)/cause">cause</span><span class="symbol">:</span>&nbsp;<a href="../-cancellation-exception/index.html"><span class="identifier">CancellationException</span></a><span class="symbol">?</span>&nbsp;<span class="symbol">=</span>&nbsp;null<br /><span class="symbol">)</span><span class="symbol">: </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-unit/index.html"><span class="identifier">Unit</span></a></code></div>

        <p>Cancels all children of the <a href="../-job/index.html">Job</a> in this context, without touching the state of this job itself
with an optional cancellation cause. See <a href="../-job/cancel.html">Job.cancel</a>.
It does not do anything if there is no job in the context or it has no children.</p>

      </td>
</tr>
<tr>
<td>

        <p><a href="../kotlin.coroutines.-coroutine-context/ensure-active.html">ensureActive</a></p>

      </td>
<td>
        <div class="signature"><code><span class="keyword">fun </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.coroutines/-coroutine-context/index.html"><span class="identifier">CoroutineContext</span></a><span class="symbol">.</span><span class="identifier">ensureActive</span><span class="symbol">(</span><span class="symbol">)</span><span class="symbol">: </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-unit/index.html"><span class="identifier">Unit</span></a></code></div>

        <p>Ensures that job in the current context is <a href="../-job/is-active.html">active</a>.
Throws <a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-illegal-state-exception/index.html">IllegalStateException</a> if the context does not have a job in it.</p>

      </td>
</tr>
<tr>
<td>

        <p><a href="../invoke.html">invoke</a></p>

      </td>
<td>
        <div class="signature"><code><span class="keyword">operator</span> <span class="keyword">suspend</span> <span class="keyword">fun </span><span class="symbol">&lt;</span><span class="identifier">T</span><span class="symbol">&gt;</span> <a href="./index.md"><span class="identifier">CoroutineDispatcher</span></a><span class="symbol">.</span><span class="identifier">invoke</span><span class="symbol">(</span><br />&nbsp;&nbsp;&nbsp;&nbsp;<span class="parameterName" id="kotlinx.coroutines$invoke(kotlinx.coroutines.CoroutineDispatcher, kotlin.SuspendFunction1((kotlinx.coroutines.CoroutineScope, kotlinx.coroutines.invoke.T)))/block">block</span><span class="symbol">:</span>&nbsp;<span class="keyword">suspend </span><a href="../-coroutine-scope/index.html"><span class="identifier">CoroutineScope</span></a><span class="symbol">.</span><span class="symbol">(</span><span class="symbol">)</span>&nbsp;<span class="symbol">-&gt;</span>&nbsp;<a href="../invoke.html#T"><span class="identifier">T</span></a><br /><span class="symbol">)</span><span class="symbol">: </span><a href="../invoke.html#T"><span class="identifier">T</span></a></code></div>

        <p>Calls the specified suspending block with the given <a href="./index.md">CoroutineDispatcher</a>, suspends until it
completes, and returns the result.</p>

      </td>
</tr>
</tbody>
</table>

<h3 id="inheritors">Inheritors</h3>

<table class="api-docs-table">
<tbody>
<tr data-platform="JVM"><td>

        <p><a href="../-executor-coroutine-dispatcher/index.html">ExecutorCoroutineDispatcher</a></p>

      </td>
<td>
        <div class="signature"><code><span class="keyword">abstract</span> <span class="keyword">class </span><span class="identifier">ExecutorCoroutineDispatcher</span>&nbsp;<span class="symbol">:</span>&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;<a href="./index.md"><span class="identifier">CoroutineDispatcher</span></a><span class="symbol">, </span><br />&nbsp;&nbsp;&nbsp;&nbsp;<a href="http://docs.oracle.com/javase/8/docs/api/java/io/Closeable.html"><span class="identifier">Closeable</span></a></code></div>

        <p><a href="./index.md">CoroutineDispatcher</a> that has underlying <a href="http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/Executor.html">Executor</a> for dispatching tasks.
Instances of <a href="../-executor-coroutine-dispatcher/index.html">ExecutorCoroutineDispatcher</a> should be closed by the owner of the dispatcher.</p>

      </td>
</tr><tr>
<td>

        <p><a href="../-main-coroutine-dispatcher/index.html">MainCoroutineDispatcher</a></p>

      </td>
<td>
        <div class="signature"><code><span class="keyword">abstract</span> <span class="keyword">class </span><span class="identifier">MainCoroutineDispatcher</span>&nbsp;<span class="symbol">:</span>&nbsp;<a href="./index.md"><span class="identifier">CoroutineDispatcher</span></a></code></div>

        <p>Base class for special <a href="./index.md">CoroutineDispatcher</a> which is confined to application “Main” or “UI” thread
and used for any UI-based activities. Instance of <code>MainDispatcher</code> can be obtained by <a href="../-dispatchers/-main.html">Dispatchers.Main</a>.</p>

      </td>
</tr>
</tbody>
</table>

      </div>
    </main>
    <footer class="site-footer">
  <!-- empty -->
</footer>

  </body>
</html>

