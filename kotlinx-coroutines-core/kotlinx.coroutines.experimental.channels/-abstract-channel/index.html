<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>AbstractChannel - kotlinx-coroutines-core</title>
  <meta name="description" content="Library support for kotlin coroutines">
  <link rel="stylesheet" href="/kotlinx.coroutines/assets/main.css">
  <link rel="canonical" href="https://kotlin.github.io/kotlinx.coroutines/kotlinx-coroutines-core/kotlinx.coroutines.experimental.channels/-abstract-channel/">
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-47631155-3', 'auto');
    ga('send', 'pageview');
  </script>
</head>

  <body>
    <header class="site-header" role="banner">
  <div class="wrapper">
    <a class="site-title" href="/kotlinx.coroutines/">kotlinx.coroutines</a>
  </div>
</header>

    <main class="page-content" aria-label="Content">
      <div class="wrapper">
        <div class="api-docs-breadcrumbs"><a href="../../index.html">kotlinx-coroutines-core</a> / <a href="../index.html">kotlinx.coroutines.experimental.channels</a> / <a href=".">AbstractChannel</a></div>

<h1 id="abstractchannel">AbstractChannel</h1>

<div class="signature"><code><span class="keyword">abstract</span> <span class="keyword">class </span><span class="identifier">AbstractChannel</span><span class="symbol">&lt;</span><span class="identifier">E</span><span class="symbol">&gt;</span>&nbsp;<span class="symbol">:</span>&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;<a href="../-abstract-send-channel/index.html"><span class="identifier">AbstractSendChannel</span></a><span class="symbol">&lt;</span><span class="identifier">E</span><span class="symbol">&gt;</span><span class="symbol">, </span><br />&nbsp;&nbsp;&nbsp;&nbsp;<a href="../-channel/index.html"><span class="identifier">Channel</span></a><span class="symbol">&lt;</span><span class="identifier">E</span><span class="symbol">&gt;</span></code> <a href="http://github.com/kotlin/kotlinx.coroutines/tree/master/core/kotlinx-coroutines-core/src/main/kotlin/kotlinx/coroutines/experimental/channels/AbstractChannel.kt#L416">(source)</a></div>

<p>Abstract send/receive channel. It is a base class for all channel implementations.</p>

<h3 id="constructors">Constructors</h3>

<table class="api-docs-table">
<tbody>
<tr>
<td>

        <p><a href="-init-.html">&lt;init&gt;</a></p>

      </td>
<td>
        <div class="signature"><code><span class="identifier">AbstractChannel</span><span class="symbol">(</span><span class="symbol">)</span></code></div>

        <p>Abstract send/receive channel. It is a base class for all channel implementations.</p>

      </td>
</tr>
</tbody>
</table>

<h3 id="properties">Properties</h3>

<table class="api-docs-table">
<tbody>
<tr>
<td>

        <p><a href="is-closed-for-receive.html">isClosedForReceive</a></p>

      </td>
<td>
        <div class="signature"><code><span class="keyword">val </span><span class="identifier">isClosedForReceive</span><span class="symbol">: </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-boolean/index.html"><span class="identifier">Boolean</span></a></code></div>

        <p>Returns <code>true</code> if this channel was closed by invocation of <a href="../-send-channel/close.html">close</a> on the <a href="../-send-channel/index.html">SendChannel</a>
side and all previously sent items were already received, so that the <a href="receive.html">receive</a> attempt
throws <a href="../-closed-receive-channel-exception/index.html">ClosedReceiveChannelException</a>. If the channel was closed because of the exception, it
is considered closed, too, but it is called a <em>failed</em> channel. All suspending attempts to receive
an element from a failed channel throw the original <a href="../-send-channel/close.html">close</a> cause exception.</p>

      </td>
</tr>
<tr>
<td>

        <p><a href="is-empty.html">isEmpty</a></p>

      </td>
<td>
        <div class="signature"><code><span class="keyword">val </span><span class="identifier">isEmpty</span><span class="symbol">: </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-boolean/index.html"><span class="identifier">Boolean</span></a></code></div>

        <p>Returns <code>true</code> if the channel is empty (contains no elements) and the <a href="receive.html">receive</a> attempt will suspend.
This function returns <code>false</code> for <a href="is-closed-for-receive.html">isClosedForReceive</a> channel.</p>

      </td>
</tr>
<tr>
<td>

        <p><a href="on-receive.html">onReceive</a></p>

      </td>
<td>
        <div class="signature"><code><span class="keyword">val </span><span class="identifier">onReceive</span><span class="symbol">: </span><a href="../../kotlinx.coroutines.experimental.selects/-select-clause1.html"><span class="identifier">SelectClause1</span></a><span class="symbol">&lt;</span><span class="identifier">E</span><span class="symbol">&gt;</span></code></div>

        <p>Clause for <a href="#">select</a> expression of <a href="receive.html">receive</a> suspending function that selects with the element that
is received from the channel.
The <a href="#">select</a> invocation fails with exception if the channel
<a href="is-closed-for-receive.html">isClosedForReceive</a> (see <a href="../-send-channel/close.html">close</a> for details).</p>

      </td>
</tr>
<tr>
<td>

        <p><a href="on-receive-or-null.html">onReceiveOrNull</a></p>

      </td>
<td>
        <div class="signature"><code><span class="keyword">val </span><span class="identifier">onReceiveOrNull</span><span class="symbol">: </span><a href="../../kotlinx.coroutines.experimental.selects/-select-clause1.html"><span class="identifier">SelectClause1</span></a><span class="symbol">&lt;</span><span class="identifier">E</span><span class="symbol">?</span><span class="symbol">&gt;</span></code></div>

        <p>Clause for <a href="#">select</a> expression of <a href="receive-or-null.html">receiveOrNull</a> suspending function that selects with the element that
is received from the channel or selects with <code>null</code> if if the channel
<a href="is-closed-for-receive.html">isClosedForReceive</a> without cause. The <a href="#">select</a> invocation fails with
the original <a href="../-send-channel/close.html">close</a> cause exception if the channel has <em>failed</em>.</p>

      </td>
</tr>
</tbody>
</table>

<h3 id="inherited-properties">Inherited Properties</h3>

<table class="api-docs-table">
<tbody>
<tr>
<td>

        <p><a href="../-abstract-send-channel/is-closed-for-send.html">isClosedForSend</a></p>

      </td>
<td>
        <div class="signature"><code><span class="keyword">val </span><span class="identifier">isClosedForSend</span><span class="symbol">: </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-boolean/index.html"><span class="identifier">Boolean</span></a></code></div>

        <p>Returns <code>true</code> if this channel was closed by invocation of <a href="../-abstract-send-channel/close.html">close</a> and thus
the <a href="../-abstract-send-channel/send.html">send</a> and <a href="../-abstract-send-channel/offer.html">offer</a> attempts throws exception.</p>

      </td>
</tr>
<tr>
<td>

        <p><a href="../-abstract-send-channel/is-full.html">isFull</a></p>

      </td>
<td>
        <div class="signature"><code><span class="keyword">val </span><span class="identifier">isFull</span><span class="symbol">: </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-boolean/index.html"><span class="identifier">Boolean</span></a></code></div>

        <p>Returns <code>true</code> if the channel is full (out of capacity) and the <a href="../-abstract-send-channel/send.html">send</a> attempt will suspend.
This function returns <code>false</code> for <a href="../-abstract-send-channel/is-closed-for-send.html">isClosedForSend</a> channel.</p>

      </td>
</tr>
<tr>
<td>

        <p><a href="../-abstract-send-channel/on-send.html">onSend</a></p>

      </td>
<td>
        <div class="signature"><code><span class="keyword">val </span><span class="identifier">onSend</span><span class="symbol">: </span><a href="../../kotlinx.coroutines.experimental.selects/-select-clause2.html"><span class="identifier">SelectClause2</span></a><span class="symbol">&lt;</span><span class="identifier">E</span><span class="symbol">,</span>&nbsp;<a href="../-send-channel/index.html"><span class="identifier">SendChannel</span></a><span class="symbol">&lt;</span><span class="identifier">E</span><span class="symbol">&gt;</span><span class="symbol">&gt;</span></code></div>

        <p>Clause for <a href="#">select</a> expression of <a href="../-abstract-send-channel/send.html">send</a> suspending function that selects when the element that is specified
as parameter is sent to the channel. When the clause is selected the reference to this channel
is passed into the corresponding block.</p>

      </td>
</tr>
</tbody>
</table>

<h3 id="functions">Functions</h3>

<table class="api-docs-table">
<tbody>
<tr>
<td>

        <p><a href="iterator.html">iterator</a></p>

      </td>
<td>
        <div class="signature"><code><span class="keyword">fun </span><span class="identifier">iterator</span><span class="symbol">(</span><span class="symbol">)</span><span class="symbol">: </span><a href="../-channel-iterator/index.html"><span class="identifier">ChannelIterator</span></a><span class="symbol">&lt;</span><span class="identifier">E</span><span class="symbol">&gt;</span></code></div>

        <p>Returns new iterator to receive elements from this channels using <code>for</code> loop.
Iteration completes normally when the channel is <a href="is-closed-for-receive.html">isClosedForReceive</a> without cause and
throws the original <a href="../-send-channel/close.html">close</a> cause exception if the channel has <em>failed</em>.</p>

      </td>
</tr>
<tr>
<td>

        <p><a href="on-cancelled-receive.html">onCancelledReceive</a></p>

      </td>
<td>
        <div class="signature"><code><span class="keyword">open</span> <span class="keyword">fun </span><span class="identifier">onCancelledReceive</span><span class="symbol">(</span><span class="symbol">)</span><span class="symbol">: </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-unit/index.html"><span class="identifier">Unit</span></a></code></div>

        <p>Invoked when enqueued receiver was successfully cancelled.</p>

      </td>
</tr>
<tr>
<td>

        <p><a href="on-enqueued-receive.html">onEnqueuedReceive</a></p>

      </td>
<td>
        <div class="signature"><code><span class="keyword">open</span> <span class="keyword">fun </span><span class="identifier">onEnqueuedReceive</span><span class="symbol">(</span><span class="symbol">)</span><span class="symbol">: </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-unit/index.html"><span class="identifier">Unit</span></a></code></div>

        <p>Invoked when receiver is successfully enqueued to the queue of waiting receivers.</p>

      </td>
</tr>
<tr>
<td>

        <p><a href="poll.html">poll</a></p>

      </td>
<td>
        <div class="signature"><code><span class="keyword">fun </span><span class="identifier">poll</span><span class="symbol">(</span><span class="symbol">)</span><span class="symbol">: </span><span class="identifier">E</span><span class="symbol">?</span></code></div>

        <p>Retrieves and removes the element from this channel, or returns <code>null</code> if this channel <a href="is-empty.html">isEmpty</a>
or is <a href="is-closed-for-receive.html">isClosedForReceive</a> without cause.
It throws the original <a href="../-send-channel/close.html">close</a> cause exception if the channel has <em>failed</em>.</p>

      </td>
</tr>
<tr>
<td>

        <p><a href="receive.html">receive</a></p>

      </td>
<td>
        <div class="signature"><code><span class="keyword">suspend</span> <span class="keyword">fun </span><span class="identifier">receive</span><span class="symbol">(</span><span class="symbol">)</span><span class="symbol">: </span><span class="identifier">E</span></code></div>

        <p>Retrieves and removes the element from this channel suspending the caller while this channel <a href="is-empty.html">isEmpty</a>
or throws <a href="../-closed-receive-channel-exception/index.html">ClosedReceiveChannelException</a> if the channel <a href="is-closed-for-receive.html">isClosedForReceive</a>.
If the channel was closed because of the exception, it is called a <em>failed</em> channel and this function
throws the original <a href="../-send-channel/close.html">close</a> cause exception.</p>

      </td>
</tr>
<tr>
<td>

        <p><a href="receive-or-null.html">receiveOrNull</a></p>

      </td>
<td>
        <div class="signature"><code><span class="keyword">suspend</span> <span class="keyword">fun </span><span class="identifier">receiveOrNull</span><span class="symbol">(</span><span class="symbol">)</span><span class="symbol">: </span><span class="identifier">E</span><span class="symbol">?</span></code></div>

        <p>Retrieves and removes the element from this channel suspending the caller while this channel <a href="is-empty.html">isEmpty</a>
or returns <code>null</code> if the channel is <a href="is-closed-for-receive.html">closed</a> without cause
or throws the original <a href="../-send-channel/close.html">close</a> cause exception if the channel has <em>failed</em>.</p>

      </td>
</tr>
</tbody>
</table>

<h3 id="inherited-functions">Inherited Functions</h3>

<table class="api-docs-table">
<tbody>
<tr>
<td>

        <p><a href="../-abstract-send-channel/after-close.html">afterClose</a></p>

      </td>
<td>
        <div class="signature"><code><span class="keyword">open</span> <span class="keyword">fun </span><span class="identifier">afterClose</span><span class="symbol">(</span><span class="parameterName" id="kotlinx.coroutines.experimental.channels.AbstractSendChannel$afterClose(kotlin.Throwable)/cause">cause</span><span class="symbol">:</span>&nbsp;<a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-throwable/index.html"><span class="identifier">Throwable</span></a><span class="symbol">?</span><span class="symbol">)</span><span class="symbol">: </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-unit/index.html"><span class="identifier">Unit</span></a></code></div>

        <p>Invoked after successful <a href="../-abstract-send-channel/close.html">close</a>.</p>

      </td>
</tr>
<tr>
<td>

        <p><a href="../-abstract-send-channel/close.html">close</a></p>

      </td>
<td>
        <div class="signature"><code><span class="keyword">open</span> <span class="keyword">fun </span><span class="identifier">close</span><span class="symbol">(</span><span class="parameterName" id="kotlinx.coroutines.experimental.channels.AbstractSendChannel$close(kotlin.Throwable)/cause">cause</span><span class="symbol">:</span>&nbsp;<a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-throwable/index.html"><span class="identifier">Throwable</span></a><span class="symbol">?</span><span class="symbol">)</span><span class="symbol">: </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-boolean/index.html"><span class="identifier">Boolean</span></a></code></div>

        <p>Closes this channel with an optional exceptional <a href="../-abstract-send-channel/close.html#kotlinx.coroutines.experimental.channels.AbstractSendChannel$close(kotlin.Throwable)/cause">cause</a>.
This is an idempotent operation – repeated invocations of this function have no effect and return <code>false</code>.
Conceptually, its sends a special “close token” over this channel. Immediately after invocation of this function
<a href="../-abstract-send-channel/is-closed-for-send.html">isClosedForSend</a> starts returning <code>true</code>. However, <a href="../-receive-channel/is-closed-for-receive.html">isClosedForReceive</a>
on the side of <a href="../-receive-channel/index.html">ReceiveChannel</a> starts returning <code>true</code> only after all previously sent elements
are received.</p>

      </td>
</tr>
</tbody>
</table>

<h3 id="extension-functions">Extension Functions</h3>

<table class="api-docs-table">
<tbody>
<tr>
<td>

        <p><a href="../consume-each.html">consumeEach</a></p>

      </td>
<td>
        <div class="signature"><code><span class="keyword">suspend</span> <span class="keyword">fun </span><span class="symbol">&lt;</span><span class="identifier">E</span><span class="symbol">&gt;</span> <a href="../-receive-channel/index.html"><span class="identifier">ReceiveChannel</span></a><span class="symbol">&lt;</span><span class="identifier">E</span><span class="symbol">&gt;</span><span class="symbol">.</span><span class="identifier">consumeEach</span><span class="symbol">(</span><br />&nbsp;&nbsp;&nbsp;&nbsp;<span class="parameterName" id="kotlinx.coroutines.experimental.channels$consumeEach(kotlinx.coroutines.experimental.channels.ReceiveChannel((kotlinx.coroutines.experimental.channels.consumeEach.E)), kotlin.Function1((kotlinx.coroutines.experimental.channels.consumeEach.E, kotlin.Unit)))/action">action</span><span class="symbol">:</span>&nbsp;<span class="symbol">(</span><span class="identifier">E</span><span class="symbol">)</span>&nbsp;<span class="symbol">-&gt;</span>&nbsp;<a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-unit/index.html"><span class="identifier">Unit</span></a><br /><span class="symbol">)</span><span class="symbol">: </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-unit/index.html"><span class="identifier">Unit</span></a></code></div>

        <p>Performs the given <a href="../consume-each.html#kotlinx.coroutines.experimental.channels$consumeEach(kotlinx.coroutines.experimental.channels.ReceiveChannel((kotlinx.coroutines.experimental.channels.consumeEach.E)), kotlin.Function1((kotlinx.coroutines.experimental.channels.consumeEach.E, kotlin.Unit)))/action">action</a> for each received element.</p>

      </td>
</tr>
</tbody>
</table>

<h3 id="inheritors">Inheritors</h3>

<table class="api-docs-table">
<tbody>
<tr>
<td>

        <p><a href="../-array-channel/index.html">ArrayChannel</a></p>

      </td>
<td>
        <div class="signature"><code><span class="keyword">open</span> <span class="keyword">class </span><span class="identifier">ArrayChannel</span><span class="symbol">&lt;</span><span class="identifier">E</span><span class="symbol">&gt;</span>&nbsp;<span class="symbol">:</span>&nbsp;<span class="identifier">AbstractChannel</span><span class="symbol">&lt;</span><span class="identifier">E</span><span class="symbol">&gt;</span></code></div>

        <p>Channel with array buffer of a fixed <a href="../-array-channel/capacity.html">capacity</a>.
Sender suspends only when buffer is fully and receiver suspends only when buffer is empty.</p>

      </td>
</tr>
<tr>
<td>

        <p><a href="../-conflated-channel/index.html">ConflatedChannel</a></p>

      </td>
<td>
        <div class="signature"><code><span class="keyword">open</span> <span class="keyword">class </span><span class="identifier">ConflatedChannel</span><span class="symbol">&lt;</span><span class="identifier">E</span><span class="symbol">&gt;</span>&nbsp;<span class="symbol">:</span>&nbsp;<span class="identifier">AbstractChannel</span><span class="symbol">&lt;</span><span class="identifier">E</span><span class="symbol">&gt;</span></code></div>

        <p>Channel that buffers at most one element and conflates all subsequent <code>send</code> and <code>offer</code> invocations,
so that the receiver always gets the most recently sent element.
Back-to-send sent elements are <em>conflated</em> – only the the most recently sent element is received,
while previously sent elements <strong>are lost</strong>.
Sender to this channel never suspends and <a href="#">offer</a> always returns <code>true</code>.</p>

      </td>
</tr>
<tr>
<td>

        <p><a href="../-linked-list-channel/index.html">LinkedListChannel</a></p>

      </td>
<td>
        <div class="signature"><code><span class="keyword">open</span> <span class="keyword">class </span><span class="identifier">LinkedListChannel</span><span class="symbol">&lt;</span><span class="identifier">E</span><span class="symbol">&gt;</span>&nbsp;<span class="symbol">:</span>&nbsp;<span class="identifier">AbstractChannel</span><span class="symbol">&lt;</span><span class="identifier">E</span><span class="symbol">&gt;</span></code></div>

        <p>Channel with linked-list buffer of a unlimited capacity (limited only by available memory).
Sender to this channel never suspends and <a href="#">offer</a> always returns <code>true</code>.</p>

      </td>
</tr>
<tr>
<td>

        <p><a href="../-rendezvous-channel/index.html">RendezvousChannel</a></p>

      </td>
<td>
        <div class="signature"><code><span class="keyword">open</span> <span class="keyword">class </span><span class="identifier">RendezvousChannel</span><span class="symbol">&lt;</span><span class="identifier">E</span><span class="symbol">&gt;</span>&nbsp;<span class="symbol">:</span>&nbsp;<span class="identifier">AbstractChannel</span><span class="symbol">&lt;</span><span class="identifier">E</span><span class="symbol">&gt;</span></code></div>

        <p>Rendezvous channel. This channel does not have any buffer at all. An element is transferred from sender
to receiver only when <a href="#">send</a> and <a href="receive.html">receive</a> invocations meet in time (rendezvous), so <a href="#">send</a> suspends
until another coroutine invokes <a href="receive.html">receive</a> and <a href="receive.html">receive</a> suspends until another coroutine invokes <a href="#">send</a>.</p>

      </td>
</tr>
</tbody>
</table>

      </div>
    </main>
    <footer class="site-footer">
  <!-- empty -->
</footer>

  </body>
</html>

