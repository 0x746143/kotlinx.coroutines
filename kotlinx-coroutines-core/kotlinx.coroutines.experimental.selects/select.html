<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>select - kotlinx-coroutines-core</title>
  <meta name="description" content="Library support for kotlin coroutines">
  <link rel="stylesheet" href="/kotlinx.coroutines/assets/main.css">
  <link rel="canonical" href="https://kotlin.github.io/kotlinx.coroutines/kotlinx-coroutines-core/kotlinx.coroutines.experimental.selects/select.html">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
  <script src="/kotlinx.coroutines/assets/js/api.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-47631155-3', 'auto');
    ga('send', 'pageview');
  </script>
</head>

  <body>
    <header class="site-header" role="banner">
  <div class="wrapper">
    <a class="site-title" href="/kotlinx.coroutines/">kotlinx.coroutines</a>
  </div>
</header>

    <main class="page-content" aria-label="Content">
      <div class="wrapper">
        <div class="api-docs-breadcrumbs"><a href="../index.html">kotlinx-coroutines-core</a> / <a href="index.html">kotlinx.coroutines.experimental.selects</a> / <a href="./select.html">select</a></div>

<h1 id="select">select</h1>

<div class="signature"><code><span class="keyword">inline</span> <span class="keyword">suspend</span> <span class="keyword">fun </span><span class="symbol">&lt;</span><span class="identifier">R</span><span class="symbol">&gt;</span> <span class="identifier">select</span><span class="symbol">(</span><br />&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">crossinline</span> <span class="parameterName" id="kotlinx.coroutines.experimental.selects$select(kotlin.Function1((kotlinx.coroutines.experimental.selects.SelectBuilder((kotlinx.coroutines.experimental.selects.select.R)), kotlin.Unit)))/builder">builder</span><span class="symbol">:</span>&nbsp;<a href="-select-builder/index.html"><span class="identifier">SelectBuilder</span></a><span class="symbol">&lt;</span><a href="select.html#R"><span class="identifier">R</span></a><span class="symbol">&gt;</span><span class="symbol">.</span><span class="symbol">(</span><span class="symbol">)</span>&nbsp;<span class="symbol">-&gt;</span>&nbsp;<a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-unit/index.html"><span class="identifier">Unit</span></a><br /><span class="symbol">)</span><span class="symbol">: </span><a href="select.html#R"><span class="identifier">R</span></a></code> <a href="http://github.com/kotlin/kotlinx.coroutines/tree/master/common/kotlinx-coroutines-core-common/src/main/kotlin/kotlinx/coroutines/experimental/selects/Select.kt#L183">(source)</a></div>

<p>Waits for the result of multiple suspending functions simultaneously, which are specified using <em>clauses</em>
in the <a href="select.html#kotlinx.coroutines.experimental.selects$select(kotlin.Function1((kotlinx.coroutines.experimental.selects.SelectBuilder((kotlinx.coroutines.experimental.selects.select.R)), kotlin.Unit)))/builder">builder</a> scope of this select invocation. The caller is suspended until one of the clauses
is either <em>selected</em> or <em>fails</em>.</p>

<p>At most one clause is <em>atomically</em> selected and its block is executed. The result of the selected clause
becomes the result of the select. If any clause <em>fails</em>, then the select invocation produces the
corresponding exception. No clause is selected in this case.</p>

<p>This select function is <em>biased</em> to the first clause. When multiple clauses can be selected at the same time,
the first one of them gets priority. Use <a href="select-unbiased.html">selectUnbiased</a> for an unbiased (randomized) selection among
the clauses.</p>

<p>There is no <code>default</code> clause for select expression. Instead, each selectable suspending function has the
corresponding non-suspending version that can be used with a regular <code>when</code> expression to select one
of the alternatives or to perform default (<code>else</code>) action if none of them can be immediately selected.</p>

<table>
  <thead>
    <tr>
      <th><strong>Receiver</strong></th>
      <th><strong>Suspending function</strong></th>
      <th><strong>Select clause</strong></th>
      <th><strong>Non-suspending version</strong></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><a href="../kotlinx.coroutines.experimental/-job/index.html">Job</a></td>
      <td><a href="../kotlinx.coroutines.experimental/-job/join.html">join</a></td>
      <td><a href="#">onJoin</a></td>
      <td><a href="../kotlinx.coroutines.experimental/-job/is-completed.html">isCompleted</a></td>
    </tr>
    <tr>
      <td><a href="../kotlinx.coroutines.experimental/-deferred/index.html">Deferred</a></td>
      <td><a href="../kotlinx.coroutines.experimental/-deferred/await.html">await</a></td>
      <td><a href="#">onAwait</a></td>
      <td><a href="../kotlinx.coroutines.experimental/-job/is-completed.html">isCompleted</a></td>
    </tr>
    <tr>
      <td><a href="../kotlinx.coroutines.experimental.channels/-send-channel/index.html">SendChannel</a></td>
      <td><a href="../kotlinx.coroutines.experimental.channels/-send-channel/send.html">send</a></td>
      <td><a href="#">onSend</a></td>
      <td><a href="../kotlinx.coroutines.experimental.channels/-send-channel/offer.html">offer</a></td>
    </tr>
    <tr>
      <td><a href="../kotlinx.coroutines.experimental.channels/-receive-channel/index.html">ReceiveChannel</a></td>
      <td><a href="../kotlinx.coroutines.experimental.channels/-receive-channel/receive.html">receive</a></td>
      <td><a href="#">onReceive</a></td>
      <td><a href="../kotlinx.coroutines.experimental.channels/-receive-channel/poll.html">poll</a></td>
    </tr>
    <tr>
      <td><a href="../kotlinx.coroutines.experimental.channels/-receive-channel/index.html">ReceiveChannel</a></td>
      <td><a href="../kotlinx.coroutines.experimental.channels/-receive-channel/receive-or-null.html">receiveOrNull</a></td>
      <td><a href="#">onReceiveOrNull</a></td>
      <td><a href="../kotlinx.coroutines.experimental.channels/-receive-channel/poll.html">poll</a></td>
    </tr>
    <tr>
      <td><a href="#">Mutex</a></td>
      <td><a href="#">lock</a></td>
      <td><a href="#">onLock</a></td>
      <td><a href="#">tryLock</a></td>
    </tr>
    <tr>
      <td>none</td>
      <td><a href="../kotlinx.coroutines.experimental/delay.html">delay</a></td>
      <td><a href="-select-builder/on-timeout.html">onTimeout</a></td>
      <td>none</td>
    </tr>
  </tbody>
</table>

<p>This suspending function is cancellable. If the <a href="../kotlinx.coroutines.experimental/-job/index.html">Job</a> of the current coroutine is cancelled or completed while this
function is suspended, this function immediately resumes with <a href="../kotlinx.coroutines.experimental/-cancellation-exception/index.html">CancellationException</a>.</p>

<p>Atomicity of cancellation depends on the clause: <a href="#">onSend</a>, <a href="#">onReceive</a>,
<a href="#">onReceiveOrNull</a>, and <a href="#">onLock</a> clauses are
<em>atomically cancellable</em>. When select throws <a href="../kotlinx.coroutines.experimental/-cancellation-exception/index.html">CancellationException</a> it means that those clauses had not performed
their respective operations.
As a side-effect of atomic cancellation, a thread-bound coroutine (to some UI thread, for example) may
continue to execute even after it was cancelled from the same thread in the case when this select operation
was already resumed on atomically cancellable clause and the continuation was posted for execution to the threadâ€™s queue.</p>

<p>Note, that this function does not check for cancellation when it is not suspended.
Use <a href="../kotlinx.coroutines.experimental/yield.html">yield</a> or <a href="../kotlinx.coroutines.experimental/-coroutine-scope/is-active.html">CoroutineScope.isActive</a> to periodically check for cancellation in tight loops if needed.</p>


      </div>
    </main>
    <footer class="site-footer">
  <!-- empty -->
</footer>

  </body>
</html>

